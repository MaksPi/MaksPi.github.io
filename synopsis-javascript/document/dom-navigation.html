<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Навигация по DOM-элементам</title>
	
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../css/fonts.css">
</head>
<body>
	<div class="page-wrapper">
		<div class="page">
			<h1 class="page__title">Навигация по DOM-элементам</h1>
			<p>DOM позволяет делать что угодно с элементами и их содержимым, но для начала нужно получить соответствующий DOM-объект.</p>
			<p>Все операции с DOM начинаются с объекта <code>document</code>. Это главная «точка входа» в DOM. Из него мы можем получить доступ к любому узлу.</p>
			<p>Так выглядят основные ссылки, по которым можно переходить между узлами DOM:</p>
			<div class="image dom">
				<div class="document">
					<span>document</span>
				</div>
				<div class="documentElement">
					<span>document.documentElement</span>
					<span>&lt;HTML&gt;</span>
				</div>
				<div class="body">
					<span>document.body</span>
					<span>(if inside body)</span>
				</div>
				<div class="line"></div>
				<span class="parentNode">parentNode</span>
				<div class="div">
					<span><b>&lt;DIV&gt;</b></span>
					<span>previousSibling</span>
					<span>nextSibling</span>
					<span>firstChild</span>
					<span>lastChild</span>
					<span class="left">←</span>
					<span class="left rotate">←</span>
					<span class="right">→</span>
					<span class="right rotate">→</span>
				</div>
				<span class="childNodes">childNodes</span>
				<span class="up one">↑</span>
				<span class="up two">↑</span>
				<span class="up three">⇡</span>
				<span class="up four">↑</span>
			</div>
			<p>Подробнее об этом рисунке:</p>
			<h2>Сверху: documentElement и body</h2>
			<p>Самые верхние элементы дерева доступны как свойства объекта <code>document</code>:</p>
			<dl>
				<dt><code>&lt;html&gt;</code> = <code>document.documentElement</code></dt>
				<dd>Самый верхний узел документа: <code>document.documentElement</code>. В DOM он соответствует тегу <code>&lt;html&gt;</code>.</dd>
				<dt><code>&lt;body&gt;</code> = <code>document.body</code></dt>
				<dd>Другой часто используемый DOM-узел – узел тега <code>&lt;body&gt;</code>: <code>document.body</code>.</dd>
				<dt><code>&lt;head&gt;</code> = <code>document.head</code></dt>
				<dd>Тег <code>&lt;head&gt;</code> доступен как <code>document.head</code>.</dd>
			</dl>
			<div class="important important_warn">
				<div class="important__header">
					<span class="important__type">Есть одна тонкость: <code>document.body</code> может быть равен <code>null</code></span>
				</div>
				<div class="important__content">
					<p>Нельзя получить доступ к элементу, которого ещё не существует в момент выполнения скрипта.</p>
					<p>В частности, если скрипт находится в <code>&lt;head&gt;</code>, <code>document.body</code> в нём недоступен, потому что браузер его ещё не прочитал.</p>
					<p>Поэтому, в примере ниже первый <code>alert</code> выведет <code>null</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>html</code><code class="token punctuation">&gt;</code></code><br><br>
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>head</code><code class="token punctuation">&gt;</code></code><br>
									<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
									<code class="rows-double-indentation">
										<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>
										<code class="token string">"Из HEAD: "</code>
										<code class="token operator">+</code>
										document<code class="token punctuation">.</code>body
										<code class="token punctuation">)</code><code class="token punctuation">;</code>
										<code class="token comment">// null, &lt;body&gt; ещё нет</code>
									</code><br>
									<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code><br>
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>head</code><code class="token punctuation">&gt;</code></code><br><br>
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>body</code><code class="token punctuation">&gt;</code></code><br><br>
									<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
									<code class="rows-double-indentation"><code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>
									<code class="token string">"Из BODY: "</code>
									<code class="token operator">+</code>
									document<code class="token punctuation">.</code>body
									<code class="token punctuation">)</code><code class="token punctuation">;</code>
									<code class="token comment">// HTMLBodyElement, теперь он есть</code>
									</code><br>
									<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code><br><br>
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>body</code><code class="token punctuation">&gt;</code></code><br>
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>html</code><code class="token punctuation">&gt;</code></code>
								</code>
								<span class="line-numbers-rows">
									<span>1</span><br>
									<span>2</span><br>
									<span>3</span><br>
									<span>4</span><br>
									<span>5</span><br>
									<span>6</span><br>
									<span>7</span><br>
									<span>8</span><br>
									<span>9</span><br>
									<span>10</span><br>
									<span>11</span><br>
									<span>12</span><br>
									<span>13</span><br>
									<span>14</span><br>
									<span>15</span><br>
									<span>16</span>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="important important_smart">
				<div class="important__header">
					<span class="important__type">В мире DOM <code>null</code> означает «не существует»</span>
				</div>
				<div class="important__content">
					<p>В DOM значение <code>null</code> значит «не существует» или «нет такого узла».</p>
				</div>
			</div>
			<h2>Дети: childNodes, firstChild, lastChild</h2>
			<p>Здесь и далее будут использоваться два принципиально разных термина:</p>
			<ul>
				<li><strong>Дочерние узлы (или дети)</strong> – элементы, которые являются непосредственными детьми узла. Другими словами, элементы, которые лежат непосредственно внутри данного. Например, <code>&lt;head&gt;</code> и <code>&lt;body&gt;</code> являются детьми элемента <code>&lt;html&gt;</code>.</li>
				<li><strong>Потомки</strong> – все элементы, которые лежат внутри данного, включая детей, их детей и т.д.</li>
			</ul>
			<p>В примере ниже детьми тега <code>&lt;body&gt;</code> являются теги <code>&lt;div&gt;</code> и <code>&lt;ul&gt;</code> (и несколько пустых текстовых узлов):</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>html</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>body</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>Начало<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation rows-double-indentation">&lt;</code>b</code><code class="token punctuation">&gt;</code></code>Информация<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>b</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>body</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>html</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span>
						</span>
					</div>
				</div>
			</div>
			<p>…А потомки <code>&lt;body&gt;</code>– это и прямые дети <code>&lt;div&gt;</code>, <code>&lt;ul&gt;</code> и вложенные в них: <code>&lt;li&gt;</code> (потомок <code>&lt;ul&gt;</code>) и <code>&lt;b&gt;</code> (потомок <code>&lt;li&gt;</code>) – в общем, все элементы поддерева.</p>
			<p><strong>Коллекция <code>childNodes</code> содержит список всех детей, включая текстовые узлы.</strong></p>
			<p>Пример ниже последовательно выведет детей <code>document.body</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>html</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>body</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>Начало<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;</code>li</code><code class="token punctuation">&gt;</code></code>Информация<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>ul</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>Конец<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="rows-double-indentation">
								<code class="token keyword rows-double-indentation">for</code>
								<code class="token punctuation">(</code><code class="token keyword">let</code>
								i
								<code class="token operator">=</code>
								<code class="token number">0</code><code class="token punctuation">;</code>
								i
								<code class="token operator">&lt;</code>
								document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>childNodes<code class="token punctuation">.</code>length<code class="token punctuation">;</code>
								i<code class="token operator">++</code><code class="token punctuation">)</code>
								<code class="token punctuation">{</code>
							</code><br>
							<code class="rows-double-indentation">
								<code class="rows-double-indentation">
									<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>
									document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>childNodes<code class="token punctuation">[</code>i<code class="token punctuation">]</code>
									<code class="token punctuation">)</code><code class="token punctuation">;</code>
									<code class="token comment">// Text, DIV, Text, UL, ..., SCRIPT</code>
								</code>
							</code><br>
							<code class="rows-double-indentation">
								<code class="token punctuation rows-double-indentation">}</code>
							</code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="rows-double-indentation">...какой-то HTML-код...</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>body</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>html</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span><br>
							<span>13</span><br>
							<span>14</span><br>
							<span>15</span><br>
							<span>16</span><br>
							<span>17</span><br>
							<span>18</span>
						</span>
					</div>
				</div>
			</div>
			<p>Если запустить пример выше, то последним будет выведен элемент <code>&lt;script&gt;</code>. На самом деле, в документе есть ещё «какой-то HTML-код», но на момент выполнения скрипта браузер ещё до него не дошёл, поэтому скрипт не видит его.</p>
			<p><strong>Свойства <code>firstChild</code> и <code>lastChild</code> обеспечивают быстрый доступ к первому и последнему дочернему элементу.</strong></p>
			<p>Они, по сути, являются всего лишь сокращениями. Если у тега есть дочерние узлы, условие ниже всегда верно:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							elem<code class="token punctuation">.</code>childNodes<code class="token punctuation">[</code><code class="token number">0</code><code class="token punctuation">]</code>
							<code class="token operator">===</code>
							elem<code class="token punctuation">.</code>firstChild<br>
							elem<code class="token punctuation">.</code>childNodes<code class="token punctuation">[</code>elem<code class="token punctuation">.</code>childNodes<code class="token punctuation">.</code>length
							<code class="token operator">-</code>
							<code class="token number">1</code><code class="token punctuation">]</code>
							<code class="token operator">===</code>
							elem<code class="token punctuation">.</code>lastChild
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span>
						</span>
					</div>
				</div>
			</div>
			<p>Для проверки наличия дочерних узлов существует также специальная функция <code>elem.hasChildNodes()</code>.</p>
			<h3>DOM-коллекции</h3>
			<p><code>childNodes</code> похож на массив, но на самом деле это не массив, а <em>коллекция</em> – особый перебираемый объект-псевдомассив.</p>
			<p>И есть два важных следствия из этого:</p>
			<ol>
				<li>Для перебора <em>коллекции</em> мы можем использовать <code>for..of</code>:</li>
			</ol>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">for</code>
							<code class="token punctuation">(</code><code class="token keyword">let</code>
							node
							<code class="token keyword">of</code>
							document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>childNodes<code class="token punctuation">)</code>
							<code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>node<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// покажет все узлы из коллекции</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span>
						</span>
					</div>
				</div>
			</div>
			<p>Это работает, потому что коллекция является перебираемым объектом (есть требуемый для этого метод <code>Symbol.iterator</code>).</p>
			<ol start="2">
				<li>Методы массивов не будут работать, потому что коллекция – это не массив:</li>
			</ol>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token function">alert</code><code class="token punctuation">(</code>document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>childNodes<code class="token punctuation">.</code>filter<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// undefined (у коллекции нет метода filter!)</code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span>
						</span>
					</div>
				</div>
			</div>
			<p>Первый пункт – это хорошо. Второй – бывает неудобен, но можно пережить. Если хочется использовать именно методы массива, то можно создать настоящий массив из коллекции, используя <code>Array.from</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token function">alert</code><code class="token punctuation">(</code> Array<code class="token punctuation">.</code><code class="token function">from</code><code class="token punctuation">(</code>document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>childNodes<code class="token punctuation">)</code><code class="token punctuation">.</code>filter <code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// сделали массив</code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span>
						</span>
					</div>
				</div>
			</div>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">DOM-коллекции – только для чтения</span></div>
				<div class="important__content"><p>DOM-коллекции, и даже более – <em>все</em> навигационные свойства доступны только для чтения.</p>
					<p>Нельзя заменить один дочерний узел на другой, просто написав <code>childNodes[i] = ...</code>.</p>
					<p>Для изменения DOM требуются другие методы.</p>
				</div>
			</div>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">DOM-коллекции живые</span></div>
				<div class="important__content"><p>Почти все DOM-коллекции, за небольшим исключением, <em>живые</em>. Другими словами, они отражают текущее состояние DOM.</p>
					<p>Если сохранить ссылку на <code>elem.childNodes</code> и добавить/удалить узлы в DOM, то они появятся в сохранённой коллекции автоматически.</p>
				</div>
			</div>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">Не нужно использовать цикл <code>for..in</code> для перебора коллекций</span></div>
				<div class="important__content"><p>Коллекции перебираются циклом <code>for..of</code>.</p>
					<p>Цикл <code>for..in</code> перебирает все перечисляемые свойства. А у коллекций есть некоторые «лишние», редко используемые свойства, которые обычно нам не нужны:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>body</code><code class="token punctuation">&gt;</code></code><br>
									<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
									<code class="rows-double-indentation">
										<code class="token comment rows-double-indentation">// выводит 0, 1, length, item, values и другие свойства.</code>
									</code><br>
									<code class="rows-double-indentation">
										<code class="token keyword rows-double-indentation">for</code>
										<code class="token punctuation">(</code><code class="token keyword">let</code>
										prop
										<code class="token keyword">in</code>
										document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>childNodes<code class="token punctuation">)</code>
										<code class="token function">alert</code><code class="token punctuation">(</code>prop<code class="token punctuation">)</code><code class="token punctuation">;</code>
									</code><br>
									<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code><br>
									<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>body</code><code class="token punctuation">&gt;</code></code>
								</code>
								<span class="line-numbers-rows">
									<span>1</span><br>
									<span>2</span><br>
									<span>3</span><br>
									<span>4</span><br>
									<span>5</span><br>
									<span>6</span>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<h2>Соседи и родитель</h2>
			<p><em>Соседи</em> – это узлы, у которых один и тот же родитель.</p>
			<p>Например, здесь <code>&lt;head&gt;</code> и <code>&lt;body&gt;</code> соседи:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>html</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>head</code><code class="token punctuation">&gt;</code></code>...<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>head</code><code class="token punctuation">&gt;</code></code><code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>body</code><code class="token punctuation">&gt;</code></code>...<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>body</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>html</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span>
						</span>
					</div>
				</div>
			</div>
			<ul>
				<li>говорят, что <code>&lt;body&gt;</code> – «следующий» или «правый» сосед <code>&lt;head&gt;</code></li>
				<li>также можно сказать, что <code>&lt;head&gt;</code> «предыдущий» или «левый» сосед <code>&lt;body&gt;</code>.</li>
			</ul>
			<p>Следующий узел того же родителя (следующий сосед) – в свойстве <code>nextSibling</code>, а предыдущий – в <code>previousSibling</code>.</p>
			<p>Родитель доступен через <code>parentNode</code>.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token comment">// родителем &lt;body&gt; является &lt;html&gt;</code><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>parentNode
							<code class="token operator">===</code> document<code class="token punctuation">.</code>documentElement
							<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// выведет true</code><br><br>
							<code class="token comment">// после &lt;head&gt; идёт &lt;body&gt;</code><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> document<code class="token punctuation">.</code>head<code class="token punctuation">.</code>nextSibling
							<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// HTMLBodyElement</code><br><br>
							<code class="token comment">// перед &lt;body&gt; находится &lt;head&gt;</code><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>previousSibling
							<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// HTMLHeadElement</code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span>
						</span>
					</div>
				</div>
			</div>
			<h2>Навигация только по элементам</h2>
			<p>Навигационные свойства, описанные выше, относятся ко <em>всем</em> узлам в документе. В частности, в <code>childNodes</code> находятся и текстовые узлы и узлы-элементы и узлы-комментарии, если они есть.</p>
			<p>Но для большинства задач текстовые узлы и узлы-комментарии не нужны, так как в основном нужно манипулировать узлами-элементами, которые представляют собой теги и формируют структуру страницы.</p>
			<p>Дополнительный набор ссылок, которые учитывают только <em>узлы-элементы</em>:</p>
			<div class="image dom elements">
				<div class="document">
					<span>document</span>
				</div>
				<div class="documentElement">
					<span>document.documentElement</span>
					<span>&lt;HTML&gt;</span>
				</div>
				<div class="body">
					<span>document.body</span>
					<span>(if inside body)</span>
				</div>
				<div class="line"></div>
				<span class="parentNode">parent<span>Element</span></span>
				<div class="div">
					<span><b>&lt;DIV&gt;</b></span>
					<span>previous<span>Element</span>Sibling</span>
					<span>next<span>Element</span>Sibling</span>
					<span>first<span>Element</span>Child</span>
					<span>last<span>Element</span>Child</span>
					<span class="left">←</span>
					<span class="left rotate">←</span>
					<span class="right">→</span>
					<span class="right rotate">→</span>
				</div>
				<span class="childNodes"><span>children</span></span>
				<span class="up one">↑</span>
				<span class="up two">↑</span>
				<span class="up three">⇡</span>
				<span class="up four">↑</span>
			</div>
			<p>Эти ссылки похожи на те, что раньше, только в ряде мест стоит слово <code>Element</code>:</p>
			<ul>
				<li><code>children</code> – коллекция детей, которые являются элементами.</li>
				<li><code>firstElementChild</code>, <code>lastElementChild</code> – первый и последний дочерний элемент.</li>
				<li><code>previousElementSibling</code>, <code>nextElementSibling</code> – соседи-элементы.</li>
				<li><code>parentElement</code> – родитель-элемент.</li>
			</ul>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Зачем нужен <code>parentElement</code>? Разве может родитель быть <em>не</em> элементом?</span></div>
				<div class="important__content"><p>Свойство <code>parentElement</code> возвращает родитель-элемент, а <code>parentNode</code> возвращает «любого родителя». Обычно эти свойства одинаковы: они оба получают родителя.</p>
					<p>За исключением <code>document.documentElement</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token function">alert</code><code class="token punctuation">(</code>
									document<code class="token punctuation">.</code>documentElement<code class="token punctuation">.</code>parentNode
									<code class="token punctuation">)</code><code class="token punctuation">;</code>
									<code class="token comment">// выведет document</code><br>
									<code class="token function">alert</code><code class="token punctuation">(</code>
									document<code class="token punctuation">.</code>documentElement<code class="token punctuation">.</code>parentElement
									<code class="token punctuation">)</code><code class="token punctuation">;</code>
									<code class="token comment">// выведет null</code>
								</code>
								<span class="line-numbers-rows">
									<span>1</span><br>
									<span>2</span>
								</span>
							</div>
						</div>
					</div>
					<p>Причина в том, что родителем корневого узла <code>document.documentElement</code> (<code>&lt;html&gt;</code>) является <code>document</code>. Но <code>document</code> – это не узел-элемент, так что <code>parentNode</code> вернёт его, а <code>parentElement</code> нет.</p>
					<p>Эта деталь может быть полезна, если мы хотим пройти вверх по цепочке родителей от произвольного элемента <code>elem</code> к <code>&lt;html&gt;</code>, но не до <code>document</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">while</code><code class="token punctuation">(</code>elem
									<code class="token operator">=</code>
									elem<code class="token punctuation">.</code>parentElement<code class="token punctuation">)</code>
									<code class="token punctuation">{</code>
									<code class="token comment">// идти наверх до &lt;html&gt;</code><br>
									<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>
									elem
									<code class="token punctuation">)</code><code class="token punctuation">;</code><br>
									<code class="token punctuation">}</code>
								</code>
								<span class="line-numbers-rows">
									<span>1</span><br>
									<span>2</span><br>
									<span>3</span>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<p>Если изменить один из примеров выше, а именно заменить <code>childNodes</code> на <code>children</code>, то цикл будет выводить только элементы:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>html</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>body</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>Начало<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;</code>li</code><code class="token punctuation">&gt;</code></code>Информация<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>ul</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>Конец<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="rows-double-indentation">
								<code class="token keyword rows-double-indentation">for</code>
								<code class="token punctuation">(</code><code class="token keyword">let</code>
								elem
								<code class="token keyword">of</code>
								document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>children<code class="token punctuation">)</code>
								<code class="token punctuation">{</code>
							</code><br>
							<code class="rows-double-indentation">
								<code class="rows-double-indentation">
									<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>elem<code class="token punctuation">)</code><code class="token punctuation">;</code>
									<code class="token comment">// DIV, UL, DIV, SCRIPT</code>
								</code>
							</code><br>
							<code class="rows-double-indentation">
								<code class="token punctuation rows-double-indentation">}</code>
							</code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="rows-double-indentation">...</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>body</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>html</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span><br>
							<span>13</span><br>
							<span>14</span><br>
							<span>15</span><br>
							<span>16</span><br>
							<span>17</span><br>
							<span>18</span>
						</span>
					</div>
				</div>
			</div>
			<h2>Ещё немного ссылок: таблицы</h2>
			<p><strong>Элемент <code>&lt;table&gt;</code></strong>, в дополнение к свойствам, о которых речь шла выше, поддерживает следующие:</p>
			<ul>
				<li><code>table.rows</code> – коллекция строк <code>&lt;tr&gt;</code> таблицы.</li>
				<li><code>table.caption/tHead/tFoot</code> – ссылки на элементы таблицы <code>&lt;caption&gt;</code>, <code>&lt;thead&gt;</code>, <code>&lt;tfoot&gt;</code>.</li>
				<li><code>table.tBodies</code> – коллекция элементов таблицы <code>&lt;tbody&gt;</code> (по спецификации их может быть больше одного).</li>
			</ul>
			<p><strong><code>&lt;thead&gt;</code>, <code>&lt;tfoot&gt;</code>, <code>&lt;tbody&gt;</code></strong> предоставляют свойство <code>rows</code>:</p>
			<ul>
				<li><code>tbody.rows</code> – коллекция строк <code>&lt;tr&gt;</code> секции.</li>
			</ul>
			<p><strong><code>&lt;tr&gt;</code>:</strong></p>
			<ul>
				<li><code>tr.cells</code> – коллекция <code>&lt;td&gt;</code> и <code>&lt;th&gt;</code> ячеек, находящихся внутри строки <code>&lt;tr&gt;</code>.</li>
				<li><code>tr.sectionRowIndex</code> – номер строки <code>&lt;tr&gt;</code> в текущей секции <code>&lt;thead&gt;/&lt;tbody&gt;/&lt;tfoot&gt;</code>.</li>
				<li><code>tr.rowIndex</code> – номер строки <code>&lt;tr&gt;</code> в таблице (включая все строки таблицы).</li>
			</ul>
			<p><strong><code>&lt;td&gt;</code> and <code>&lt;th&gt;</code>:</strong></p>
			<ul>
				<li><code>td.cellIndex</code> – номер ячейки в строке <code>&lt;tr&gt;</code>.</li>
			</ul>
			<p>Пример использования:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>table</code>
								<code class="token attr-name">id</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>table<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code>
							</code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>tr</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;</code>td</code><code class="token punctuation">&gt;</code></code>один<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>td</code><code class="token punctuation">&gt;</code></code><code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>td</code><code class="token punctuation">&gt;</code></code>два<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>td</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>tr</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>tr</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;</code>td</code><code class="token punctuation">&gt;</code></code>три<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>td</code><code class="token punctuation">&gt;</code></code><code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>td</code><code class="token punctuation">&gt;</code></code>четыре<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>td</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>tr</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>table</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><code class="token script"><code class="token language-javascript"><br>
							<code class="token comment rows-double-indentation">// выводит содержимое первой строки, второй ячейки</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>
							table<code class="token punctuation">.</code>rows<code class="token punctuation">[</code><code class="token number">0</code><code class="token punctuation">]</code><code class="token punctuation">.</code>cells<code class="token punctuation">[</code><code class="token number">1</code><code class="token punctuation">]</code><code class="token punctuation">.</code>innerHTML
							<code class="token punctuation">)</code>
							<code class="token comment">// "два"</code><br>
							</code></code><code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span><br>
							<span>13</span>
						</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>