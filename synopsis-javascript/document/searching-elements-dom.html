<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Поиск: getElement*, querySelector*</title>
	
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../css/fonts.css">
</head>
<body>
	<div class="page-wrapper">
		<div class="page">
			<h1 class="page__title">Поиск: getElement*, querySelector*</h1>
			<p>Свойства навигации по DOM хороши, когда элементы расположены рядом. Но для того, чтобы получить произвольный элемент страницы в DOM есть дополнительные методы поиска.</p>
			<h2>document.getElementById или просто id</h2>
			<p>Если у элемента есть атрибут <code>id</code>, то можно получить его вызовом <code>document.getElementbyId(id)</code>, где бы он ни находился:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>div</code> <code class="token attr-name">id</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>elem<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code> <code class="token attr-name">id</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>elem-content<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>Element<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token comment rows-double-indentation">// получить элемент</code><br>
							<code class="token keyword rows-double-indentation">let</code>
							elem
							<code class="token operator">=</code>
							document<code class="token punctuation">.</code><code class="token function">getElementById</code><code class="token punctuation">(</code><code class="token string">'elem'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token comment rows-double-indentation">// сделать его фон красным</code><br>
							<code class="rows-double-indentation">elem</code><code class="token punctuation ">.</code>style<code class="token punctuation">.</code>background
							<code class="token operator">=</code>
							<code class="token string">'red'</code><code class="token punctuation">;</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span>
						</span>
					</div>
				</div>
			</div>
			<p>Также есть глобальная переменная с именем, указанным в <code>id</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>div</code> <code class="token attr-name">id</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>elem<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code> <code class="token attr-name">id</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>elem-content<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>Элемент<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token comment rows-double-indentation">// elem - ссылка на элемент с id="elem"</code><br>
							<code class="rows-double-indentation">elem</code><code class="token punctuation">.</code>style<code class="token punctuation">.</code>background
							<code class="token operator">=</code>
							<code class="token string">'red'</code><code class="token punctuation">;</code><br><br>
							<code class="token comment rows-double-indentation">// внутри id="elem-content" есть дефис, так что такой id не может служить именем переменной</code><br>
							<code class="token comment rows-double-indentation">// ...но мы можем обратиться к нему через квадратные скобки: window['elem-content']</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span>
						</span>
					</div>
				</div>
			</div>
			<p>…Но это только если мы не объявили в JavaScript переменную с таким же именем, иначе она будет иметь приоритет:</p>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">Не нужно использовать такие глобальные переменные для доступа к элементам</span></div>
				<div class="important__content"><p>Это поведение соответствует <a href="http://www.whatwg.org/specs/web-apps/current-work/#dom-window-nameditem">стандарту</a>, но поддерживается в основном для совместимости, как осколок далёкого прошлого.</p>
					<p>Браузер пытается помочь, смешивая пространства имён JS и DOM. Это удобно для простых скриптов, которые находятся прямо в HTML, но, вообще говоря, не очень хорошо. Возможны конфликты имён. Кроме того, при чтении JS-кода, не видя HTML, непонятно, откуда берётся переменная.</p>
				</div>
			</div>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Значение <code>id</code> должно быть уникальным</span></div>
				<div class="important__content"><p>Значение <code>id</code> должно быть уникальным. В документе может быть только один элемент с данным <code>id</code>.</p>
					<p>Если в документе есть несколько элементов с одинаковым значением <code>id</code>, то поведение методов поиска непредсказуемо. Браузер может вернуть любой из них случайным образом.</p>
				</div>
			</div>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">Только <code>document.getElementById</code>, а не <code>anyElem.getElementById</code></span></div>
				<div class="important__content"><p>Метод <code>getElementById</code> можно вызвать только для объекта <code>document</code>. Он осуществляет поиск по <code>id</code> по всему документу.</p>
				</div>
			</div>
			<h2>querySelectorAll</h2>
			<p>Самый универсальный метод поиска – это <code>elem.querySelectorAll(css)</code>, он возвращает все элементы внутри <code>elem</code>, удовлетворяющие данному CSS-селектору.</p>
			<p>Следующий запрос получает все элементы <code>&lt;li&gt;</code>, которые являются последними потомками в <code>&lt;ul&gt;</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>li</code><code class="token punctuation">&gt;</code></code>Этот<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>li</code><code class="token punctuation">&gt;</code></code>тест<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>li</code><code class="token punctuation">&gt;</code></code>полностью<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>li</code><code class="token punctuation">&gt;</code></code>пройден<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token keyword rows-double-indentation">let</code>
							elements
							<code class="token operator">=</code>
							document<code class="token punctuation">.</code><code class="token function">querySelectorAll</code><code class="token punctuation">(</code><code class="token string">'ul &gt; li:last-child'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword rows-double-indentation">for</code>
							<code class="token punctuation">(</code><code class="token keyword">let</code>
							elem
							<code class="token keyword">of</code>
							elements<code class="token punctuation">)</code>
							<code class="token punctuation">{</code><br>
							<code class="rows-double-indentation">
								<code class="token function rows-indentation">alert</code><code class="token punctuation">(</code>elem<code class="token punctuation">.</code>innerHTML<code class="token punctuation">)</code><code class="token punctuation">;</code>
								<code class="token comment">// "тест", "пройден"</code>
							</code><br>
							<code class="token punctuation rows-double-indentation">}</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span><br>
							<span>13</span><br>
							<span>14</span><br>
							<span>15</span>
						</span>
					</div>
				</div>
			</div>
			<p>Этот метод действительно мощный, потому что можно использовать любой CSS-селектор.</p>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Псевдоклассы тоже работают</span></div>
				<div class="important__content"><p>Псевдоклассы в CSS-селекторе, в частности <code>:hover</code> и <code>:active</code>, также поддерживаются. Например, <code>document.querySelectorAll(':hover')</code> вернёт коллекцию (в порядке вложенности: от внешнего к внутреннему) из текущих элементов под курсором мыши.</p>
				</div>
			</div>
			<h2>querySelector</h2>
			<p>Метод <code>elem.querySelector(css)</code> возвращает первый элемент, соответствующий данному CSS-селектору.</p>
			<p>Иначе говоря, результат такой же, как при вызове <code>elem.querySelectorAll(css)[0]</code>, но он сначала найдёт <em>все</em> элементы, а потом возьмёт первый, в то время как <code>elem.querySelector</code> найдёт только первый и остановится. Это быстрее, кроме того, его короче писать.</p>
			<h2>matches</h2>
			<p>Предыдущие методы искали по DOM.</p>
			<p>Метод <a href="http://dom.spec.whatwg.org/#dom-element-matches">elem.matches(css)</a> ничего не ищет, а проверяет, удовлетворяет ли <code>elem</code> CSS-селектору, и возвращает <code>true</code> или <code>false</code>.</p>
			<p>Этот метод удобен, когда мы перебираем элементы (например, в массиве или в чём-то подобном) и пытаемся выбрать те из них, которые нас интересуют:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>a</code> <code class="token attr-name">href</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>http://example.com/file.zip<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>...<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>a</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>a</code> <code class="token attr-name">href</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>http://ya.ru<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>...<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>a</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token comment rows-double-indentation">// может быть любая коллекция вместо document.body.children</code><br>
							<code class="token keyword rows-double-indentation">for</code>
							<code class="token punctuation">(</code><code class="token keyword">let</code>
							elem
							<code class="token keyword">of</code>
							document<code class="token punctuation">.</code>body<code class="token punctuation">.</code>children<code class="token punctuation">)</code>
							<code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">
								<code class="token keyword rows-indentation">if</code>
								<code class="token punctuation">(</code>elem<code class="token punctuation">.</code><code class="token function">matches</code><code class="token punctuation">(</code><code class="token string">'a[href$="zip"]'</code><code class="token punctuation">))</code>
								<code class="token punctuation">{</code>
							</code><br>
							<code class="token rows-double-indentation">
								<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code><code class="token string">"Ссылка на архив: "</code>
								<code class="token operator">+</code>
								elem
								<code class="token punctuation">.</code>href
								<code class="token punctuation">)</code><code class="token punctuation">;</code>
							</code><br>
							<code class="token rows-double-indentation">
								<code class="token punctuation rows-indentation">}</code>
							</code><br>
							<code class="token punctuation rows-double-indentation">}</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span>
						</span>
					</div>
				</div>
			</div>
			<h2>closest</h2>
			<p><em>Предки</em> элемента – родитель, родитель родителя, его родитель и так далее. Вместе они образуют цепочку иерархии от элемента до вершины.</p>
			<p>Метод <code>elem.closest(css)</code> ищет ближайшего предка, который соответствует CSS-селектору. Сам элемент также включается в поиск.</p>
			<p>Другими словами, метод <code>closest</code> поднимается вверх от элемента и проверяет каждого из родителей. Если он соответствует селектору, поиск прекращается. Метод возвращает либо предка, либо <code>null</code>, если такой элемент не найден:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>h1</code><code class="token punctuation">&gt;</code></code>Содержание<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>h1</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>div</code> <code class="token attr-name">class</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>contents<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>ul</code> <code class="token attr-name">class</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>book<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;</code>li</code> <code class="token attr-name">class</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>chapter<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>Глава 1<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag rows-double-indentation"><code class="token punctuation">&lt;</code>li</code> <code class="token attr-name">class</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>chapter<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>Глава 2<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>li</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;/</code>ul</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token keyword rows-double-indentation">let</code>
							chapter
							<code class="token operator">=</code>
							document<code class="token punctuation">.</code><code class="token function">querySelector</code><code class="token punctuation">(</code><code class="token string">'.chapter'</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// LI</code><br><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>chapter<code class="token punctuation">.</code><code class="token function">closest</code><code class="token punctuation">(</code><code class="token string">'.book'</code><code class="token punctuation">)</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// UL</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>chapter<code class="token punctuation">.</code><code class="token function">closest</code><code class="token punctuation">(</code><code class="token string">'.contents'</code><code class="token punctuation">)</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// DIV</code><br><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>chapter<code class="token punctuation">.</code><code class="token function">closest</code><code class="token punctuation">(</code><code class="token string">'h1'</code><code class="token punctuation">)</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// null (потому что h1 - не предок)</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span><br>
							<span>13</span><br>
							<span>14</span><br>
							<span>15</span><br>
							<span>16</span><br>
							<span>17</span>
						</span>
					</div>
				</div>
			</div>
			<h2>getElementsBy*</h2>
			<p>Существуют также другие методы поиска элементов по тегу, классу и так далее.</p>
			<p>На данный момент, они скорее исторические, так как <code>querySelector</code> более чем эффективен.</p>
			<ul>
				<li><code>elem.getElementsByTagName(tag)</code> ищет элементы с данным тегом и возвращает их коллекцию. Передав <code>"*"</code> вместо тега, можно получить всех потомков.</li>
				<li><code>elem.getElementsByClassName(className)</code> возвращает элементы, которые имеют данный CSS-класс.</li>
				<li><code>document.getElementsByName(name)</code> возвращает элементы с заданным атрибутом <code>name</code>. Очень редко используется.</li>
			</ul>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token comment">// получить все элементы div в документе</code><br>
							<code class="token keyword">let</code>
							divs
							<code class="token operator">=</code>
							document<code class="token punctuation">.</code><code class="token function">getElementsByTagName</code><code class="token punctuation">(</code><code class="token string">'div'</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span>
						</span>
					</div>
				</div>
			</div>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">Не забываем про букву <code>"s"</code>!</span></div>
				<div class="important__content"><p>Одна из самых частых ошибок начинающих разработчиков (впрочем, иногда и не только)  – это забыть букву <code>"s"</code>. То есть пробовать вызывать метод <code>getElementByTagName</code> вместо <code>getElement<b>s</b>ByTagName</code>.</p>
					<p>Буква <code>"s"</code> отсутствует в названии метода <code>getElementById</code>, так как в данном случае возвращает один элемент. Но <code>getElementsByTagName</code> вернёт список элементов, поэтому <code>"s"</code> обязательна.</p>
				</div>
			</div>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">Возвращает коллекцию, а не элемент!</span></div>
				<div class="important__content"><p>Другая распространённая ошибка – написать:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token comment">// не работает</code><br>
									document<code class="token punctuation">.</code><code class="token function">getElementsByTagName</code><code class="token punctuation">(</code><code class="token string">'input'</code><code class="token punctuation">)</code><code class="token punctuation">.</code>value
									<code class="token operator">=</code>
									<code class="token number">5</code><code class="token punctuation">;</code>
								</code>
								<span class="line-numbers-rows">
									<span>1</span><br>
									<span>2</span>
								</span>
							</div>
						</div>
					</div>
					<p>Попытка присвоить значение <em>коллекции</em>, а не элементам внутри неё, не сработает.</p>
					<p>Нужно перебрать коллекцию в цикле или получить элемент по номеру и уже ему присваивать значение, например, так:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token comment">// работает (если есть input)</code><br>
									document<code class="token punctuation">.</code><code class="token function">getElementsByTagName</code><code class="token punctuation">(</code><code class="token string">'input'</code><code class="token punctuation">)</code><code class="token punctuation">[</code><code class="token number">0</code><code class="token punctuation">]</code><code class="token punctuation">.</code>value
									<code class="token operator">=</code>
									<code class="token number">5</code><code class="token punctuation">;</code>
								</code>
								<span class="line-numbers-rows">
									<span>1</span><br>
									<span>2</span>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<p>Пример поиска элементов с классом <code>.article</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>form</code> <code class="token attr-name">name</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>my-form<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code> <code class="token attr-name">class</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>article<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>Article<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag rows-double-indentation"><code class="token tag"><code class="token punctuation">&lt;</code>div</code> <code class="token attr-name">class</code><code class="token attr-value"><code class="token punctuation">=</code><code class="token punctuation">"</code>long article<code class="token punctuation">"</code></code><code class="token punctuation">&gt;</code></code>Long article<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>form</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token comment rows-double-indentation">// ищем по имени атрибута</code><br>
							<code class="token keyword rows-double-indentation">let</code>
							form
							<code class="token operator">=</code>
							document<code class="token punctuation">.</code><code class="token function">getElementsByName</code><code class="token punctuation">(</code><code class="token string">'my-form'</code><code class="token punctuation">)</code><code class="token punctuation">[</code><code class="token number">0</code><code class="token punctuation">]</code><code class="token punctuation">;</code><br><br>
							<code class="token comment rows-double-indentation">// ищем по классу внутри form</code><br>
							<code class="token keyword rows-double-indentation">let</code>
							articles
							<code class="token operator">=</code>
							form<code class="token punctuation">.</code><code class="token function">getElementsByClassName</code><code class="token punctuation">(</code><code class="token string">'article'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>articles<code class="token punctuation">.</code>length<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// 2, находим два элемента с классом article</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span><br>
							<span>13</span>
						</span>
					</div>
				</div>
			</div>
			<h2>Живые коллекции</h2>
			<p>Все методы <code>"getElementsBy*"</code> возвращают <em>живую</em> коллекцию. Такие коллекции всегда отражают текущее состояние документа и автоматически обновляются при его изменении.</p>
			<p>В приведённом ниже примере есть два скрипта.</p>
			<ol>
				<li>Первый создаёт ссылку на коллекцию <code>&lt;div&gt;</code>. На этот момент её длина равна <code>1</code>.</li>
				<li>Второй скрипт запускается после того, как браузер встречает ещё один <code>&lt;div&gt;</code>, теперь её длина – <code>2</code>.</li>
			</ol>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>First div<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token keyword rows-double-indentation">let</code>
							divs
							<code class="token operator">=</code>
							document<code class="token punctuation">.</code><code class="token function">getElementsByTagName</code><code class="token punctuation">(</code><code class="token string">'div'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>divs<code class="token punctuation">.</code>length<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// 1</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>Second div<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>divs<code class="token punctuation">.</code>length<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// 2</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span>
						</span>
					</div>
				</div>
			</div>
			<p>Напротив, <code>querySelectorAll</code> возвращает <em>статическую</em> коллекцию. Это похоже на фиксированный массив элементов:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>First div<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token keyword rows-double-indentation">let</code>
							divs
							<code class="token operator">=</code>
							document<code class="token punctuation">.</code><code class="token function">querySelectorAll</code><code class="token punctuation">(</code><code class="token string">'div'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>divs<code class="token punctuation">.</code>length<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// 1</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>div</code><code class="token punctuation">&gt;</code></code>Second div<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>div</code><code class="token punctuation">&gt;</code></code><br><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;</code>script</code><code class="token punctuation">&gt;</code></code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>divs<code class="token punctuation">.</code>length<code class="token punctuation">)</code><code class="token punctuation">;</code>
							<code class="token comment">// 1</code><br>
							<code class="token tag"><code class="token tag"><code class="token punctuation">&lt;/</code>script</code><code class="token punctuation">&gt;</code></code>
						</code>
						<span class="line-numbers-rows">
							<span>1</span><br>
							<span>2</span><br>
							<span>3</span><br>
							<span>4</span><br>
							<span>5</span><br>
							<span>6</span><br>
							<span>7</span><br>
							<span>8</span><br>
							<span>9</span><br>
							<span>10</span><br>
							<span>11</span><br>
							<span>12</span>
						</span>
					</div>
				</div>
			</div>
			<h2>Итого</h2>
			<p>Есть 6 основных методов поиска элементов в DOM:</p>
			<table>
				<thead>
					<tr>
						<td>Метод</td>
						<td>Ищет по...</td>
						<td>Ищет внутри элемента?</td>
						<td>Возвращает живую коллекцию?</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><code>querySelector</code></td>
						<td>CSS-selector</td>
						<td>✔</td>
						<td>-</td>
					</tr>
					<tr>
						<td><code>querySelectorAll</code></td>
						<td>CSS-selector</td>
						<td>✔</td>
						<td>-</td>
					</tr>
					<tr>
						<td><code>getElementById</code></td>
						<td><code>id</code></td>
						<td>-</td>
						<td>-</td>
					</tr>
					<tr>
						<td><code>getElementsByName</code></td>
						<td><code>name</code></td>
						<td>-</td>
						<td>✔</td>
					</tr>
					<tr>
						<td><code>getElementsByTagName</code></td>
						<td>tag or <code>'*'</code></td>
						<td>✔</td>
						<td>✔</td>
					</tr>
					<tr>
						<td><code>getElementsByClassName</code></td>
						<td>class</td>
						<td>✔</td>
						<td>✔</td>
					</tr>
				</tbody>
			</table>
			<p>Кроме того:</p>
			<ul>
				<li>Есть метод <code>elem.matches(css)</code>, который проверяет, удовлетворяет ли элемент CSS-селектору.</li>
				<li>Метод <code>elem.closest(css)</code> ищет ближайшего по иерархии предка, соответствующему данному CSS-селектору. Сам элемент также включён в поиск.</li>
			</ul>
			<p>И ещё один метод, который проверяет наличие отношений между предком и потомком:</p>
			<ul>
				<li><code>elemA.contains(elemB)</code> вернёт <code>true</code>, если <code>elemB</code> находится внутри <code>elemA</code> (<code>elemB</code> потомок <code>elemA</code>) или когда <code>elemA==elemB</code>.</li>
			</ul>
		</div>
	</div>
</body>
</html>