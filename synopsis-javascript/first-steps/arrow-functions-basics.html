<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial=scale=1.0">

	<title>Функции-стрелки, основы</title>
	
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../css/fonts.css">
	<link rel="shortcut icon" href="../img/iconfinder_graduation_cap.png">
</head>

<body>
	<div class="page-wrapper">
		<div class="page">
			<div class="main__header">
				<div class="main__header-group">
					<ol class="breadcrumbs">
						<li class="breadcrumbs__item breadcrumbs__item_home">
							<a class="breadcrumbs__link" title="Оглавление" href="../index.html"></a>
						</li>
						<li class="breadcrumbs__item"></li>
					</ol>
					<div class="updated-at">
						<div class="updated-at__content">22-го июня 2020</div>
					</div>
				</div>
				<h1 class="page__title">Функции-стрелки, основы</h1>
			</div>
			<p>Существует ещё более простой и краткий синтаксис для создания функций, который часто лучше, чем синтаксис Function Expression.</p>
			<p>Он называется «функции-стрелки» или «стрелочные функции» (arrow functions), т.к. выглядит следующим образом:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> <code class="token function-variable function">func</code> <code class="token operator">=</code> <code class="token punctuation">(</code><code class="token parameter">arg1<code class="token punctuation">,</code> arg2<code class="token punctuation">,</code> <code class="token operator">...</code>argN</code><code class="token punctuation">)</code> <code class="token operator">=&gt;</code> expression
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(1);</script>
						</span>
					</div>
				</div>
			</div>
			<p>…Такой код создаёт функцию <code>func</code> с аргументами <code>arg1..argN</code> и вычисляет <code>expression</code> с правой стороны с их использованием, возвращая результат.</p>
			<p>Другими словами, это более короткий вариант такой записи:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> <code class="token function-variable function">func</code> <code class="token operator">=</code> <code class="token keyword">function</code><code class="token punctuation">(</code><code class="token parameter">arg1<code class="token punctuation">,</code> arg2<code class="token punctuation">,</code> <code class="token operator">...</code>argN</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">return</code> expression<code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(3);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Ниже рассмотрен конкретный пример:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> <code class="token function-variable function">sum</code> <code class="token operator">=</code> <code class="token punctuation">(</code><code class="token parameter">a<code class="token punctuation">,</code> b</code><code class="token punctuation">)</code> <code class="token operator">=&gt;</code> a <code class="token operator">+</code> b<code class="token punctuation">;</code><br><br>
							<code class="token comment">/* Более короткая форма для:<br><br>
								let sum = function(a, b) {<br>
								<code class="token rows-double-indentation">return a + b;</code><br>
							};<br>
							*/</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> <code class="token function">sum</code><code class="token punctuation">(</code><code class="token number">1</code><code class="token punctuation">,</code> <code class="token number">2</code><code class="token punctuation">)</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// 3</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(10);</script>
						</span>
					</div>
				</div>
			</div>
			<p>То есть, <code>(a, b) =&gt; a + b</code> задаёт функцию с двумя аргументами <code>a</code> и <code>b</code>, которая при запуске вычисляет выражение справа <code>a + b</code> и возвращает его результат.</p>
			<ul>
				<li>
					<p>Если есть только один аргумент, то круглые скобки вокруг параметров можно опустить, сделав запись ещё короче:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token comment">// тоже что и</code><br>
									<code class="token comment">// let double = function(n) { return n * 2 }</code><br>
									<code class="token keyword">let</code> <code class="token function-variable function">double</code> <code class="token operator">=</code> <code class="token parameter">n</code> <code class="token operator">=&gt;</code> n <code class="token operator">*</code> <code class="token number">2</code><code class="token punctuation">;</code><br><br>
									<code class="token function">alert</code><code class="token punctuation">(</code> <code class="token function">double</code><code class="token punctuation">(</code><code class="token number">3</code><code class="token punctuation">)</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// 6</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(5);</script>
								</span>
							</div>
						</div>
					</div>
				</li>
				<li>
					<p>Если нет аргументов, указываются пустые круглые скобки:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">let</code> <code class="token function-variable function">sayHi</code> <code class="token operator">=</code> <code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token operator">=&gt;</code> <code class="token function">alert</code><code class="token punctuation">(</code><code class="token string">"Hello!"</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
									<code class="token function">sayHi</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(3);</script>
								</span>
							</div>
						</div>
					</div>
				</li>
			</ul>
			<p>Функции-стрелки могут быть использованы так же, как и Function Expression.</p>
			<p>Например, для динамического создания функции:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> age <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">"Сколько Вам лет?"</code><code class="token punctuation">,</code> <code class="token number">18</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">let</code> welcome <code class="token operator">=</code> <code class="token punctuation">(</code>age <code class="token operator">&lt;</code> <code class="token number">18</code><code class="token punctuation">)</code> <code class="token operator">?</code><br>
							<code class="token punctuation rows-double-indentation">(</code><code class="token punctuation">)</code> <code class="token operator">=&gt;</code> <code class="token function">alert</code><code class="token punctuation">(</code><code class="token string">'Привет'</code><code class="token punctuation">)</code> <code class="token punctuation">:</code><br>
							<code class="token punctuation rows-double-indentation">(</code><code class="token punctuation">)</code> <code class="token operator">=&gt;</code> <code class="token function">alert</code><code class="token punctuation">(</code><code class="token string">"Здравствуйте!"</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token function">welcome</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// теперь всё в порядке</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(7);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Поначалу функции-стрелки могут показаться необычными и трудночитаемыми, но это быстро пройдёт, как только глаза привыкнут к этим конструкциям.</p>
			<p>Они очень удобны для простых однострочных действий, когда лень писать много букв.</p>
			<h2>Многострочные стрелочные функции</h2>
			<p>В примерах выше аргументы использовались слева от <code>=&gt;</code>, а справа вычислялось выражение с их значениями.</p>
			<p>Порой нужно что-то посложнее, например, выполнить несколько инструкций. Это также возможно, нужно лишь заключить инструкции в фигурные скобки. И использовать <code>return</code> внутри них, как в обычной функции.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> <code class="token function-variable function">sum</code> <code class="token operator">=</code> <code class="token punctuation">(</code><code class="token parameter">a<code class="token punctuation">,</code> b</code><code class="token punctuation">)</code> <code class="token operator">=&gt;</code> <code class="token punctuation">{</code>  <code class="token comment">// фигурная скобка, открывающая тело многострочной функции</code><br>
							<code class="token keyword rows-double-indentation">let</code> result <code class="token operator">=</code> a <code class="token operator">+</code> b<code class="token punctuation">;</code><br>
							<code class="token keyword rows-double-indentation">return</code> result<code class="token punctuation">;</code> <code class="token comment">// при фигурных скобках для возврата значения нужно явно вызвать return</code><br>
							<code class="token punctuation">}</code><code class="token punctuation">;</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> <code class="token function">sum</code><code class="token punctuation">(</code><code class="token number">1</code><code class="token punctuation">,</code> <code class="token number">2</code><code class="token punctuation">)</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// 3</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(6);</script>
						</span>
					</div>
				</div>
			</div>
			<div class="important important_smart">
				<div class="important__header">
					<span class="important__type">Дальше будет ещё информация</span>
				</div>
				<div class="important__content">
					<p>Здесь были рассмотрены функции-стрелки как способ писать меньше букв. Но это далеко не всё!</p>
					<p>Стрелочные функции обладают другими интересными особенностями. Их изучение требует знания некоторых других возможностей языка JavaScript, поэтому мы вернёмся к стрелочным функциям позже, в главе <a href="#">Повторяем стрелочные функции</a>.</p>
					<p>А пока можно использовать их для простых однострочных действий и колбэков.</p>
				</div>
			</div>
		</div>
	</div>
</body>

</html>