<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial=scale=1.0">

	<title>Функции</title>
	
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../css/fonts.css">
</head>

<body>
	<div class="page-wrapper">
		<div class="page">
			<h1 class="page__title">Функции</h1>
			<p>Зачастую надо повторять одно и то же действие во многих частях программы.</p>
			<p>Например, необходимо красиво вывести сообщение при приветствии посетителя, при выходе посетителя с сайта, ещё где-нибудь.</p>
			<p>Чтобы не повторять один и тот же код во многих местах, придуманы функции. Функции являются основными «строительными блоками» программы.</p>
			<p>Примеры встроенных – это <code>alert(message)</code>, <code>prompt(message, default)</code> и <code>confirm(question)</code>. Но можно создавать и свои.</p>
			<h2>Объявление функции</h2>
			<p>Для создания функций можно использовать <em>объявление функции</em>.</p>
			<p>Пример объявления функции:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Всем привет!'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(3);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Вначале идёт ключевое слово <code>function</code>, после него <em>имя функции</em>, затем список <em>параметров</em> в круглых скобках через запятую (в вышеприведённом примере он пустой) и, наконец, код функции, также называемый «телом функции», внутри фигурных скобок.</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">имя</code><code class="token punctuation">(</code><code class="token parameter">параметры</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token operator rows-double-indentation">...</code>тело<code class="token operator">...</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(3);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Новая функция может быть вызвана по её имени: <code>showMessage()</code>.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Всем привет!'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(6);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Вызов <code>showMessage()</code> выполняет код функции. Здесь мы увидим сообщение дважды.</p>
			<p>Этот пример явно демонстрирует одно из главных предназначений функций: избавление от дублирования кода.</p>
			<p>Если понадобится поменять сообщение или способ его вывода – достаточно изменить его в одном месте: в функции, которая его выводит.</p>
			<h2>Локальные переменные</h2>
			<p>Переменные, объявленные внутри функции, видны только внутри этой функции.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">let</code> message <code class="token operator">=</code> <code class="token string">"Привет, я JavaScript!"</code><code class="token punctuation">;</code> <code class="token comment">// локальная переменная</code><br><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> message <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Привет, я JavaScript!</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> message <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// &lt;-- будет ошибка, т.к. переменная видна только внутри функции</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(9);</script>
						</span>
					</div>
				</div>
			</div>
			<h2>Внешние переменные</h2>
			<p>У функции есть доступ к внешним переменным, например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> userName <code class="token operator">=</code> <code class="token string">'Вася'</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">let</code> message <code class="token operator">=</code> <code class="token string">'Привет, '</code> <code class="token operator">+</code> userName<code class="token punctuation">;</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>message<code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Привет, Вася</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(8);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Функция обладает полным доступом к внешним переменным и может изменять их значение.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> userName <code class="token operator">=</code> <code class="token string">'Вася'</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">userName</code> <code class="token operator">=</code> <code class="token string">"Петя"</code><code class="token punctuation">;</code> <code class="token comment">// (1) изменяем значение внешней переменной</code><br><br>
							<code class="token keyword rows-double-indentation">let</code> message <code class="token operator">=</code> <code class="token string">'Привет, '</code> <code class="token operator">+</code> userName<code class="token punctuation">;</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>message<code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> userName <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Вася перед вызовом функции</code><br><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> userName <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Петя, значение внешней переменной было изменено функцией</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(14);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Внешняя переменная используется, только если внутри функции нет такой локальной.</p>
			<p>Если одноимённая переменная объявляется внутри функции, тогда она перекрывает внешнюю. Например, в коде ниже функция использует локальную переменную <code>userName</code>. Внешняя будет проигнорирована:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> userName <code class="token operator">=</code> <code class="token string">'Вася'</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">let</code> userName <code class="token operator">=</code> <code class="token string">"Петя"</code><code class="token punctuation">;</code> <code class="token comment">// объявляем локальную переменную</code><br><br>
							<code class="token keyword rows-double-indentation">let</code> message <code class="token operator">=</code> <code class="token string">'Привет, '</code> <code class="token operator">+</code> userName<code class="token punctuation">;</code> <code class="token comment">// Петя</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code>message<code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token comment">// функция создаст и будет использовать свою собственную локальную переменную userName</code><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> userName <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Вася, не изменилась, функция не трогала внешнюю переменную</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(13);</script>
						</span>
					</div>
				</div>
			</div>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Глобальные переменные</span></div>
				<div class="important__content"><p>Переменные, объявленные снаружи всех функций, такие как внешняя переменная <code>userName</code> в вышеприведённом коде – называются <em>глобальными</em>.</p>
					<p><em>Глобальные переменные</em> видимы для любой функции (если только их не перекрывают одноимённые локальные переменные).</p>
					<p>Желательно сводить использование глобальных переменных к минимуму. В современном коде обычно мало или совсем нет глобальных переменных. Хотя они иногда полезны для хранения важнейших «общепроектовых» данных.</p>
				</div>
			</div>
			<h2>Параметры</h2>
			<p>Можно передать внутрь функции любую информацию, используя параметры (также называемые <em>аргументы функции</em>).</p>
			<p>В нижеприведённом примере функции передаются два параметра: <code>from</code> и <code>text</code>.</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token parameter"><code class="token keyword">from</code><code class="token punctuation">,</code> text</code><code class="token punctuation">)</code> <code class="token punctuation">{</code> <code class="token comment">// аргументы: from, text</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code><code class="token keyword">from</code> <code class="token operator">+</code> <code class="token string">': '</code> <code class="token operator">+</code> text<code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token string">'Аня'</code><code class="token punctuation">,</code> <code class="token string">'Привет!'</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Аня: Привет! (*)</code><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token string">'Аня'</code><code class="token punctuation">,</code> <code class="token string">"Как дела?"</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Аня: Как дела? (**)</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(6);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Когда функция вызывается в строках <code>(*)</code> и <code>(**)</code>, переданные значения копируются в локальные переменные <code>from</code> и <code>text</code>. Затем они используются в теле функции.</p>
			<p>Вот ещё один пример: есть переменная <code>from</code>, которая передаётся функции. Стоит обратить внимание: функция изменяет значение <code>from</code>, но это изменение не видно снаружи. Функция всегда получает только копию значения:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token parameter"><code class="token keyword">from</code><code class="token punctuation">,</code> text</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br><br>
							<code class="token keyword rows-double-indentation">from</code> <code class="token operator">=</code> <code class="token string">'*'</code> <code class="token operator">+</code> <code class="token keyword">from</code> <code class="token operator">+</code> <code class="token string">'*'</code><code class="token punctuation">;</code> <code class="token comment">// немного украсим "from"</code><br><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token keyword">from</code> <code class="token operator">+</code> <code class="token string">': '</code> <code class="token operator">+</code> text <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token keyword">let</code> <code class="token keyword">from</code> <code class="token operator">=</code> <code class="token string">"Аня"</code><code class="token punctuation">;</code><br><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token keyword">from</code><code class="token punctuation">,</code> <code class="token string">"Привет"</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// *Аня*: Привет</code><br><br>
							<code class="token comment">// значение "from" осталось прежним, функция изменила значение локальной переменной</code><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> <code class="token keyword">from</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Аня</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(13);</script>
						</span>
					</div>
				</div>
			</div>
			<h2>Параметры по умолчанию</h2>
			<p>Если параметр не указан, то его значением становится <code>undefined</code>.</p>
			<p>Например, вышеупомянутая функция <code>showMessage(from, text)</code> может быть вызвана с одним аргументом:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token string">"Аня"</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(1);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Это не приведёт к ошибке. Такой вызов выведет <code>"Аня: undefined"</code>. В вызове не указан параметр <code>text</code>, поэтому предполагается, что <code>text === undefined</code>.</p>
			<p>Если нужно задать параметру <code>text</code> значение по умолчанию, необходимо указать его после <code>=</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token keyword">from</code><code class="token punctuation">,</code> text <code class="token operator">=</code> <code class="token string">"текст не добавлен"</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token keyword">from</code> <code class="token operator">+</code> <code class="token string">": "</code> <code class="token operator">+</code> text <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token string">"Аня"</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// Аня: текст не добавлен</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(5);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Теперь, если параметр <code>text</code> не указан, его значением будет <code>"текст не добавлен"</code></p>
			<p>В данном случае <code>"текст не добавлен"</code> это строка, но на её месте могло бы быть и более сложное выражение, которое бы вычислялось и присваивалось при отсутствии параметра. Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token parameter"><code class="token keyword">from</code><code class="token punctuation">,</code> text <code class="token operator">=</code> <code class="token function">anotherFunction</code><code class="token punctuation">(</code><code class="token punctuation">)</code></code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token comment rows-double-indentation">// anotherFunction() выполнится только если не передан text</code><br>
							<code class="token comment rows-double-indentation">// результатом будет значение text</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(4);</script>
						</span>
					</div>
				</div>
			</div>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Вычисление параметров по умолчанию</span></div>
				<div class="important__content"><p>В JavaScript параметры по умолчанию вычисляются каждый раз, когда функция вызывается без соответствующего параметра.</p>
					<p>В примере выше <code>anotherFunction()</code> будет вызываться каждый раз, когда <code>showMessage()</code> вызывается без параметра <code>text</code>.</p>
				</div>
			</div>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Использование параметров по умолчанию в ранних версиях JavaScript</span></div>
				<div class="important__content"><p>Ранние версии JavaScript не поддерживали параметры по умолчанию. Поэтому существуют альтернативные способы, которые могут встречаться в старых скриптах.</p>
					<p>Например, явная проверка на <code>undefined</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token parameter"><code class="token keyword">from</code><code class="token punctuation">,</code> text</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
									<code class="token keyword rows-double-indentation">if</code> <code class="token punctuation">(</code>text <code class="token operator">===</code> <code class="token keyword">undefined</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
									<code class="token rows-double-indentation"><code class="token rows-double-indentation">text</code></code> <code class="token operator rows-double-indentation">=</code> <code class="token string">'текст не добавлен'</code><code class="token punctuation">;</code><br>
									<code class="token punctuation rows-double-indentation">}</code><br><br>
									<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token keyword">from</code> <code class="token operator">+</code> <code class="token string">": "</code> <code class="token operator">+</code> text <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
									<code class="token punctuation">}</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(7);</script>
								</span>
							</div>
						</div>
					</div>
					<p>…Или с помощью оператора <code>||</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">function</code> <code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token parameter"><code class="token keyword">from</code><code class="token punctuation">,</code> text</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
									<code class="token comment rows-double-indentation">// Если значение text ложно, тогда присвоить параметру text значение по умолчанию</code><br>
									<code class="token rows-double-indentation">text</code> <code class="token operator rows-double-indentation">=</code> text <code class="token operator">||</code> <code class="token string">'текст не добавлен'</code><code class="token punctuation">;</code><br>
									<code class="token operator rows-double-indentation">...</code><br>
									<code class="token punctuation">}</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(5);</script>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<h2>Возврат значения</h2>
			<p>Функция может вернуть результат, который будет передан в вызвавший её код.</p>
			<p>Простейшим примером может служить функция сложения двух чисел:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">sum</code><code class="token punctuation">(</code><code class="token parameter">a<code class="token punctuation">,</code> b</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">return</code> a <code class="token operator">+</code> b<code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token keyword">let</code> result <code class="token operator">=</code> <code class="token function">sum</code><code class="token punctuation">(</code><code class="token number">1</code><code class="token punctuation">,</code> <code class="token number">2</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> result <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// 3</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(6);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Директива <code>return</code> может находиться в любом месте тела функции. Как только выполнение доходит до этого места, функция останавливается, и значение возвращается в вызвавший её код (присваивается переменной <code>result</code> выше).</p>
			<p>Вызовов <code>return</code> может быть несколько, например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">checkAge</code><code class="token punctuation">(</code><code class="token parameter">age</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">if</code> <code class="token punctuation">(</code>age <code class="token operator">&gt;</code> <code class="token number">18</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation"><code class="token rows-double-indentation">return</code></code> <code class="token boolean">true</code><code class="token punctuation">;</code><br>
							<code class="token punctuation rows-double-indentation">}</code> <code class="token keyword">else</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation"><code class="token rows-double-indentation">return</code></code> <code class="token function">confirm</code><code class="token punctuation">(</code><code class="token string">'А родители разрешили?'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation rows-double-indentation">}</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token keyword">let</code> age <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'Сколько вам лет?'</code><code class="token punctuation">,</code> <code class="token number">18</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">if</code> <code class="token punctuation">(</code> <code class="token function">checkAge</code><code class="token punctuation">(</code>age<code class="token punctuation">)</code> <code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Доступ получен'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Доступ закрыт'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(15);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Возможно использовать <code>return</code> и без значения. Это приведёт к немедленному выходу из функции.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showMovie</code><code class="token punctuation">(</code><code class="token parameter">age</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">if</code> <code class="token punctuation">(</code> <code class="token operator">!</code><code class="token function">checkAge</code><code class="token punctuation">(</code>age<code class="token punctuation">)</code> <code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation"><code class="token rows-double-indentation">return</code></code><code class="token punctuation">;</code><br>
							<code class="token punctuation rows-double-indentation">}</code><br><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">"Вам показывается кино"</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// (*)</code><br>
							<code class="token comment rows-double-indentation">// ...</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(8);</script>
						</span>
					</div>
				</div>
			</div>
			<p>В коде выше, если <code>checkAge(age)</code> вернёт <code>false</code>, <code>showMovie</code> не выполнит <code>alert</code>.</p>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Результат функции с пустым <code>return</code> или без него – <code>undefined</code></span></div>
				<div class="important__content">
					<p>Если функция не возвращает значения, это всё равно, как если бы она возвращала <code>undefined</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">function</code> <code class="token function">doNothing</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code> <code class="token comment">/* пусто */</code> <code class="token punctuation">}</code><br><br>
									<code class="token function">alert</code><code class="token punctuation">(</code> <code class="token function">doNothing</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token operator">===</code> <code class="token keyword">undefined</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// true</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(3);</script>
								</span>
							</div>
						</div>
					</div>
					<p>Пустой <code>return</code> аналогичен <code>return undefined</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">function</code> <code class="token function">doNothing</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
									<code class="token keyword rows-double-indentation">return</code><code class="token punctuation">;</code><br>
									<code class="token punctuation">}</code><br><br>
									<code class="token function">alert</code><code class="token punctuation">(</code> <code class="token function">doNothing</code><code class="token punctuation">(</code><code class="token punctuation">)</code> <code class="token operator">===</code> <code class="token keyword">undefined</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// true</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(5);</script>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="important important_warn">
				<div class="important__header"><span class="important__type">Никогда не нужно добавлять перевод строки между <code>return</code> и его значением</span></div>
				<div class="important__content">
					<p>Для длинного выражения в <code>return</code> может быть заманчиво разместить его на нескольких отдельных строках, например так:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">return</code><br>
									<code class="token punctuation">(</code>some <code class="token operator">+</code> long <code class="token operator">+</code> expression <code class="token operator">+</code> or <code class="token operator">+</code> whatever <code class="token operator">*</code> <code class="token function">f</code><code class="token punctuation">(</code>a<code class="token punctuation">)</code> <code class="token operator">+</code> <code class="token function">f</code><code class="token punctuation">(</code>b<code class="token punctuation">)</code><code class="token punctuation">)</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(2);</script>
								</span>
							</div>
						</div>
					</div>
					<p>Код не выполнится, потому что интерпретатор JavaScript подставит точку с запятой после <code>return</code>. Для него это будет выглядеть так:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">return</code><code class="token punctuation">;</code><br>
									<code class="token punctuation">(</code>some <code class="token operator">+</code> long <code class="token operator">+</code> expression <code class="token operator">+</code> or <code class="token operator">+</code> whatever <code class="token operator">*</code> <code class="token function">f</code><code class="token punctuation">(</code>a<code class="token punctuation">)</code> <code class="token operator">+</code> <code class="token function">f</code><code class="token punctuation">(</code>b<code class="token punctuation">)</code><code class="token punctuation">)</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(2);</script>
								</span>
							</div>
						</div>
					</div>
					<p>Таким образом, это фактически стало пустым <code>return</code>.</p>
					<p>Если нужно, чтобы возвращаемое выражение занимало несколько строк, нужно начать его на той же строке, что и <code>return</code>. Или, хотя бы, поставить там открывающую скобку, вот так:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token keyword">return</code> <code class="token punctuation">(</code><br>
									some <code class="token operator">+</code> long <code class="token operator">+</code> expression<br>
									<code class="token operator">+</code> or <code class="token operator">+</code><br>
									whatever <code class="token operator">*</code> <code class="token function">f</code><code class="token punctuation">(</code>a<code class="token punctuation">)</code> <code class="token operator">+</code> <code class="token function">f</code><code class="token punctuation">(</code>b<code class="token punctuation">)</code><br>
									<code class="token punctuation">)</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(5);</script>
								</span>
							</div>
						</div>
					</div>
					<p>И тогда всё сработает, как задумано.</p>
				</div>
			</div>
			<h2>Выбор имени функции</h2>
			<p>Функция – это действие. Поэтому имя функции обычно является глаголом. Оно должно быть простым, точным и описывать действие функции, чтобы программист, который будет читать код, получил верное представление о том, что делает функция.</p>
			<p>Как правило, используются глагольные префиксы, обозначающие общий характер действия, после которых следует уточнение. Обычно в командах разработчиков действуют соглашения, касающиеся значений этих префиксов.</p>
			<p>Например, функции, начинающиеся с <code>"show"</code> обычно что-то показывают.</p>
			<p>Функции, начинающиеся с…</p>
			<ul>
				<li><code>"get…"</code> – возвращают значение,</li>
				<li><code>"calc…"</code> – что-то вычисляют,</li>
				<li><code>"create…"</code> – что-то создают,</li>
				<li><code>"check…"</code> – что-то проверяют и возвращают логическое значение, и т.д.</li>
			</ul>
			<p>Примеры таких имён:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token function">showMessage</code><code class="token punctuation">(</code><code class="token punctuation">.</code><code class="token punctuation">.</code><code class="token punctuation">)</code><code class="token comment"> // показывает сообщение</code><br>
							<code class="token function">getAge</code><code class="token punctuation">(</code><code class="token punctuation">.</code><code class="token punctuation">.</code><code class="token punctuation">)</code><code class="token comment"> // возвращает возраст (в каком либо значении)</code><br>
							<code class="token function">calcSum</code><code class="token punctuation">(</code><code class="token punctuation">.</code><code class="token punctuation">.</code><code class="token punctuation">)</code><code class="token comment"> // вычисляет сумму и возвращает результат</code><br>
							<code class="token function">createForm</code><code class="token punctuation">(</code><code class="token punctuation">.</code><code class="token punctuation">.</code><code class="token punctuation">)</code><code class="token comment"> // создаёт форму (и обычно возвращает её)</code><br>
							<code class="token function">checkPermission</code><code class="token punctuation">(</code><code class="token punctuation">.</code><code class="token punctuation">.</code><code class="token punctuation">)</code><code class="token comment"> // проверяет доступ, возвращая true/false</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(5);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Благодаря префиксам, при первом взгляде на имя функции становится понятным что делает её код, и какое значение она может возвращать.</p>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Одна функция – одно действие</span></div>
				<div class="important__content">
					<p>Функция должна делать только то, что явно подразумевается её названием. И это должно быть одним действием.</p>
					<p>Два независимых действия обычно подразумевают две функции, даже если предполагается, что они будут вызываться вместе (в этом случае можно создать третью функцию, которая будет их вызывать).</p>
					<p>Несколько примеров, которые нарушают это правило:</p>
					<ul>
						<li><code>getAge</code> – будет плохим выбором, если функция будет выводить <code>alert</code> с возрастом (должна только возвращать его).</li>
						<li><code>createForm</code> – будет плохим выбором, если функция будет изменять документ, добавляя форму в него (должна только создавать форму и возвращать её).</li>
						<li><code>checkPermission</code> – будет плохим выбором, если функция будет отображать сообщение с текстом <code>доступ разрешён/запрещён</code> (должна только выполнять проверку и возвращать её результат).</li>
					</ul>
					<p>В этих примерах использовались общепринятые смыслы префиксов. Конечно, вы в команде можете договориться о других значениях, но обычно они мало отличаются от общепринятых. В любом случае вы и ваша команда должны точно понимать, что значит префикс, что функция с ним может делать, а чего не может.</p>
				</div>
			</div>
			<div class="important important_smart">
				<div class="important__header"><span class="important__type">Сверхкороткие имена функций</span></div>
				<div class="important__content"><p>Имена функций, которые используются <em>очень часто</em>, иногда делают сверхкороткими.</p>
					<p>Например, во фреймворке <a href="http://jquery.com">jQuery</a> есть функция с именем <code>$</code>. В библиотеке <a href="http://lodash.com/">Lodash</a> основная функция представлена именем <code>_</code>.</p>
					<p>Это исключения. В основном имена функций должны быть в меру краткими и описательными.</p>
				</div>
			</div>
			<h2>Функции == Комментарии</h2>
			<p>Функции должны быть короткими и делать только что-то одно. Если это что-то большое, имеет смысл разбить функцию на несколько меньших. Иногда следовать этому правилу непросто, но это определённо хорошее правило.</p>
			<p>Небольшие функции не только облегчают тестирование и отладку – само существование таких функций выполняет роль хороших комментариев!</p>
			<p>Например, сравним ниже две функции <code>showPrimes(n)</code>. Каждая из них выводит <a href="https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B5_%D1%87%D0%B8%D1%81%D0%BB%D0%BE">простое число</a> до <code>n</code>.</p>
			<p>Первый вариант использует метку <code>nextPrime</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showPrimes</code><code class="token punctuation">(</code><code class="token parameter">n</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">nextPrime</code><code class="token punctuation">:</code> <code class="token keyword">for</code> <code class="token punctuation">(</code><code class="token keyword">let</code> i <code class="token operator">=</code> <code class="token number">2</code><code class="token punctuation">;</code> i <code class="token operator">&lt;</code> n<code class="token punctuation">;</code> i<code class="token operator">++</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br><br>
							<code class="token keyword rows-double-indentation"><code class="token rows-double-indentation">for</code></code> <code class="token punctuation">(</code><code class="token keyword">let</code> j <code class="token operator">=</code> <code class="token number">2</code><code class="token punctuation">;</code> j <code class="token operator">&lt;</code> i<code class="token punctuation">;</code> j<code class="token operator">++</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation"><code class="token rows-double-indentation"><code class="token rows-double-indentation">if</code></code></code> <code class="token punctuation">(</code>i <code class="token operator">%</code> j <code class="token operator">==</code> <code class="token number">0</code><code class="token punctuation">)</code> <code class="token keyword">continue</code> nextPrime<code class="token punctuation">;</code><br>
							<code class="token punctuation rows-double-indentation"><code class="token rows-double-indentation">}</code></code><br><br>
							<code class="token function rows-double-indentation"><code class="token rows-double-indentation">alert</code></code><code class="token punctuation">(</code> i <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// простое</code><br>
							<code class="token punctuation rows-double-indentation">}</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(10);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Второй вариант использует дополнительную функцию <code>isPrime(n)</code> для проверки на простое:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">function</code> <code class="token function">showPrimes</code><code class="token punctuation">(</code><code class="token parameter">n</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br><br>
							<code class="token keyword rows-double-indentation">for</code> <code class="token punctuation">(</code><code class="token keyword">let</code> i <code class="token operator">=</code> <code class="token number">2</code><code class="token punctuation">;</code> i <code class="token operator">&lt;</code> n<code class="token punctuation">;</code> i<code class="token operator">++</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation"><code class="token rows-double-indentation">if</code></code> <code class="token punctuation">(</code><code class="token operator">!</code><code class="token function">isPrime</code><code class="token punctuation">(</code>i<code class="token punctuation">)</code><code class="token punctuation">)</code> <code class="token keyword">continue</code><code class="token punctuation">;</code><br><br>
							<code class="token function rows-double-indentation"><code class="token rows-double-indentation">alert</code></code><code class="token punctuation">(</code>i<code class="token punctuation">)</code><code class="token punctuation">;</code>  <code class="token comment">// простое</code><br>
							<code class="token punctuation rows-double-indentation">}</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token keyword">function</code> <code class="token function">isPrime</code><code class="token punctuation">(</code><code class="token parameter">n</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation">for</code> <code class="token punctuation">(</code><code class="token keyword">let</code> i <code class="token operator">=</code> <code class="token number">2</code><code class="token punctuation">;</code> i <code class="token operator">&lt;</code> n<code class="token punctuation">;</code> i<code class="token operator">++</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token keyword rows-double-indentation"><code class="token rows-double-indentation">if</code></code> <code class="token punctuation">(</code> n <code class="token operator">%</code> i <code class="token operator">==</code> <code class="token number">0</code><code class="token punctuation">)</code> <code class="token keyword">return</code> <code class="token boolean">false</code><code class="token punctuation">;</code><br>
							<code class="token punctuation rows-double-indentation">}</code><br>
							<code class="token keyword rows-double-indentation">return</code> <code class="token boolean">true</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(15);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Второй вариант легче для понимания, не правда ли? Вместо куска кода мы видим название действия (<code>isPrime</code>). Иногда разработчики называют такой код <em>самодокументируемым</em>.</p>
			<p>Таким образом, допустимо создавать функции, даже если мы не планируем повторно использовать их. Такие функции структурируют код и делают его более понятным.</p>
		</div>
	</div>
</body>

</html>