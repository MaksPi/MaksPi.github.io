<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial=scale=1.0">

	<title>Условные операторы: if, '?'</title>
	
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../css/fonts.css">
</head>

<body>
	<div class="page-wrapper">
		<div class="page">
			<h1 class="page__title">Условные операторы: if, '?'</h1>
			<p>Иногда нужно выполнить различные действия в зависимости от условий.</p>
			<p>Для этого можно использовать оператор <code>if</code> и условный оператор <code>?</code>, который также называют «оператор вопросительный знак».</p>
			<h2>Оператор «if»</h2>
			<p>Оператор <code>if(...)</code> вычисляет условие в скобках и, если результат <code>true</code>, то выполняет блок кода.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> year <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'В каком году появилась спецификация ECMAScript-2015?'</code><code class="token punctuation">,</code> <code class="token string">''</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">if</code> <code class="token punctuation">(</code>year <code class="token operator">==</code> <code class="token number">2015</code><code class="token punctuation">)</code> <code class="token function">alert</code><code class="token punctuation">(</code> <code class="token string">'Вы правы!'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(3);</script>
						</span>
					</div>
				</div>
			</div>
			<p>В примере выше, условие – это простая проверка на равенство (<code>year == 2015</code>), но оно может быть и гораздо более сложным.</p>
			<p>Если нужно выполнить более одной инструкции, то нужно заключить блок кода в фигурные скобки:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">if</code> <code class="token punctuation">(</code>year <code class="token operator">==</code> <code class="token number">2015</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">"Правильно!"</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">"Вы такой умный!"</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(4);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Hекомендуется использовать фигурные скобки <code>{}</code> всегда, когда вы используете оператор <code>if</code>, даже если выполняется только одна команда. Это улучшает читабельность кода.</p>
			<h2>Преобразование к логическому типу</h2>
			<p>Оператор <code>if (…)</code> вычисляет выражение в скобках и преобразует результат к логическому типу.</p>
			<p>Если вспомнить правила преобразования типов из главы <a href="/type-conversions">Преобразование типов</a>:</p>
			<ul>
				<li>Число <code>0</code>, пустая строка <code>""</code>, <code>null</code>, <code>undefined</code> и <code>NaN</code> становятся <code>false</code>. Из-за этого их называют «ложными» («falsy») значениями.</li>
				<li>Остальные значения становятся <code>true</code>, поэтому их называют «правдивыми» («truthy»).</li>
			</ul>
			<p>Таким образом, код при таком условии никогда не выполнится:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">if</code> <code class="token punctuation">(</code><code class="token number">0</code><code class="token punctuation">)</code> <code class="token punctuation">{</code> <code class="token comment">// 0 is falsy</code><br>
							<code class="token operator rows-double-indentation">...</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(3);</script>
						</span>
					</div>
				</div>
			</div>
			<p>…а при таком – выполнится всегда:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">if</code> <code class="token punctuation">(</code><code class="token number">1</code><code class="token punctuation">)</code> <code class="token punctuation">{</code> <code class="token comment">// 1 is truthy</code><br>
							<code class="token operator rows-double-indentation">...</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(3);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Также можно передать заранее вычисленное в переменной логическое значение в <code>if</code>, например так:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> cond <code class="token operator">=</code> <code class="token punctuation">(</code>year <code class="token operator">==</code> <code class="token number">2015</code><code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// преобразуется к true или false</code><br><br>
							<code class="token keyword">if</code> <code class="token punctuation">(</code>cond<code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token operator rows-double-indentation">...</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(5);</script>
						</span>
					</div>
				</div>
			</div>
			<h2>Блок «else»</h2>
			<p>Оператор <code>if</code> может содержать необязательный блок «else» («иначе»). Выполняется, когда условие ложно.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> year <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'В каком году появилась спецификация ECMAScript-2015?'</code><code class="token punctuation">,</code> <code class="token string">''</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">if</code> <code class="token punctuation">(</code>year <code class="token operator">==</code> <code class="token number">2015</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Да вы знаток!'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'А вот и неправильно!'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code> <code class="token comment">// любое значение, кроме 2015</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(7);</script>
						</span>
					</div>
				</div>
			</div>
			<h2>Несколько условий: «else if»</h2>
			<p>Иногда, нужно проверить несколько вариантов условия. Для этого используется блок <code>else if</code>.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> year <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'В каком году появилась спецификация ECMAScript-2015?'</code><code class="token punctuation">,</code> <code class="token string">''</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">if</code> <code class="token punctuation">(</code>year <code class="token operator">&lt;</code> <code class="token number">2015</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Это слишком рано...'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token keyword">if</code> <code class="token punctuation">(</code>year <code class="token operator">&gt;</code> <code class="token number">2015</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Это поздновато'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token punctuation">{</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code> <code class="token string">'Верно!'</code> <code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(9);</script>
						</span>
					</div>
				</div>
			</div>
			<p>В приведённом выше коде, JavaScript сначала проверит <code>year &lt; 2015</code>. Если это неверно, он переходит к следующему условию <code>year &gt; 2015</code>. Если оно тоже ложно, тогда сработает последний <code>alert</code>.</p>
			<p>Блоков <code>else if</code> может быть и больше. Присутствие блока <code>else</code> не является обязательным.</p>
			<h2>Условный оператор „?“</h2>
			<p>Иногда, нужно назначить переменную в зависимости от условия.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> accessAllowed<code class="token punctuation">;</code><br>
							<code class="token keyword">let</code> age <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'Сколько вам лет?'</code><code class="token punctuation">,</code> <code class="token string">''</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">if</code> <code class="token punctuation">(</code>age <code class="token operator">&gt;</code> <code class="token number">18</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">accessAllowed</code> <code class="token operator">=</code> <code class="token boolean">true</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">accessAllowed</code> <code class="token operator">=</code> <code class="token boolean">false</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code>accessAllowed<code class="token punctuation">)</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(10);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Так называемый «условный» оператор «вопросительный знак» позволяет сделать это более коротким и простым способом.</p>
			<p>Оператор представлен знаком вопроса <code>?</code>. Его также называют «тернарный», так как этот оператор, единственный в своём роде, имеет три аргумента.</p>
			<p>Синтаксис:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> result <code class="token operator">=</code> условие <code class="token operator">?</code> значение<code class="token number">1</code> <code class="token punctuation">:</code> значение<code class="token number">2</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(1);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Сначала вычисляется <code>условие</code>: если оно истинно, тогда возвращается <code>значение1</code>, в противном случае – <code>значение2</code>.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> accessAllowed <code class="token operator">=</code> <code class="token punctuation">(</code>age <code class="token operator">&gt;</code> <code class="token number">18</code><code class="token punctuation">)</code> <code class="token operator">?</code> <code class="token boolean">true</code> <code class="token punctuation">:</code> <code class="token boolean">false</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(1);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Технически, можно опустить круглые скобки вокруг <code>age &gt; 18</code>. Оператор вопросительного знака имеет низкий приоритет, поэтому он выполняется после сравнения <code>&gt;</code>.</p>
			<p>Этот пример будет делать то же самое, что и предыдущий:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token comment">// оператор сравнения "age &gt; 18" выполняется первым в любом случае</code><br>
							<code class="token comment">// (нет необходимости заключать его в скобки)</code><br>
							<code class="token keyword">let</code> accessAllowed <code class="token operator">=</code> age <code class="token operator">&gt;</code> <code class="token number">18</code> <code class="token operator">?</code> <code class="token boolean">true</code> <code class="token punctuation">:</code> <code class="token boolean">false</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(3);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Но скобки делают код более читабельным, поэтому рекомендуется их использовать.</p>
			<div class="important important_smart">
				<div class="important__header">
					<span class="important__type">На заметку:</span>
				</div>
				<div class="important__content">
					<p>В примере выше, вы можете избежать использования оператора вопросительного знака <code>?</code>, т.к. сравнение само по себе уже возвращает <code>true/false</code>:</p>
					<div class="code-example">
						<div class="codebox">
							<div class="line-numbers language-javascript">
								<code class="language-javascript">
									<code class="token comment">// то же самое</code><br>
									<code class="token keyword">let</code> accessAllowed <code class="token operator">=</code> age <code class="token operator">&gt;</code> <code class="token number">18</code><code class="token punctuation">;</code>
								</code>
								<span class="line-numbers-rows">
									<script src="../js/line-numbers-rows.js"></script>
									<script>rowsNumbers(2);</script>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<h2>Несколько операторов „?“</h2>
			<p>Последовательность операторов вопросительного знака <code>?</code> позволяет вернуть значение, которое зависит от более чем одного условия.</p>
			<p>Например:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> age <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'Возраст?'</code><code class="token punctuation">,</code> <code class="token number">18</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">let</code> message <code class="token operator">=</code> <code class="token punctuation">(</code>age <code class="token operator">&lt;</code> <code class="token number">3</code><code class="token punctuation">)</code> <code class="token operator">?</code> <code class="token string">'Здравствуй, малыш!'</code> <code class="token punctuation">:</code><br>
							<code class="token punctuation rows-double-indentation">(</code>age <code class="token operator">&lt;</code> <code class="token number">18</code><code class="token punctuation">)</code> <code class="token operator">?</code> <code class="token string">'Привет!'</code> <code class="token punctuation">:</code><br>
							<code class="token punctuation rows-double-indentation">(</code>age <code class="token operator">&lt;</code> <code class="token number">100</code><code class="token punctuation">)</code> <code class="token operator">?</code> <code class="token string">'Здравствуйте!'</code> <code class="token punctuation">:</code><br>
							<code class="token string rows-double-indentation">'Какой необычный возраст!'</code><code class="token punctuation">;</code><br><br>
							<code class="token function">alert</code><code class="token punctuation">(</code> message <code class="token punctuation">)</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(8);</script>
						</span>
					</div>
				</div>
			</div>
			<p>Поначалу может быть сложно понять, что происходит. Но при ближайшем рассмотрении видно, что это обычная последовательная проверка:</p>
			<ol>
				<li>Первый знак вопроса проверяет <code>age &lt; 3</code>.</li>
				<li>Если верно – возвращает <code>'Здравствуй, малыш!'</code>. В противном случае, проверяет выражение после двоеточия „":"“, вычисляет <code>age &lt; 18</code>.</li>
				<li>Если это верно – возвращает <code>'Привет!'</code>. В противном случае, проверяет выражение после следующего двоеточия „":"“, вычисляет <code>age &lt; 100</code>.</li>
				<li>Если это верно – возвращает <code>'Здравствуйте!'</code>. В противном случае, возвращает выражение после последнего двоеточия – <code>'Какой необычный возраст!'</code>.</li>
			</ol>
			<p>Вот как это выглядит при использовании <code>if..else</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">if</code> <code class="token punctuation">(</code>age <code class="token operator">&lt;</code> <code class="token number">3</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">message</code> <code class="token operator">=</code> <code class="token string">'Здравствуй, малыш!'</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token keyword">if</code> <code class="token punctuation">(</code>age <code class="token operator">&lt;</code> <code class="token number">18</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">message</code> <code class="token operator">=</code> <code class="token string">'Привет!'</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token keyword">if</code> <code class="token punctuation">(</code>age <code class="token operator">&lt;</code> <code class="token number">100</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">message</code> <code class="token operator">=</code> <code class="token string">'Здравствуйте!'</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token punctuation">{</code><br>
							<code class="token rows-double-indentation">message</code> <code class="token operator">=</code> <code class="token string">'Какой необычный возраст!'</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(9);</script>
						</span>
					</div>
				</div>
			</div>
			<h2>Нетрадиционное использование „?“</h2>
			<p>Иногда оператор вопросительный знак <code>?</code> используется в качестве замены <code>if</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> company <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'Какая компания создала JavaScript?'</code><code class="token punctuation">,</code> <code class="token string">''</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token punctuation">(</code>company <code class="token operator">==</code> <code class="token string">'Netscape'</code><code class="token punctuation">)</code> <code class="token operator">?</code><br>
							<code class="token function rows-double-indentation">alert</code><code class="token punctuation">(</code><code class="token string">'Верно!'</code><code class="token punctuation">)</code> <code class="token punctuation">:</code> <code class="token function">alert</code><code class="token punctuation">(</code><code class="token string">'Неправильно.'</code><code class="token punctuation">)</code><code class="token punctuation">;</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(4);</script>
						</span>
					</div>
				</div>
			</div>
			<p>В зависимости от условия <code>company == 'Netscape'</code>, будет выполнена либо первая, либо вторая часть после <code>?</code>.</p>
			<p>Здесь не присваивается результат переменной. Вместо этого выполняется различный код в зависимости от условия.</p>
			<p><strong>Не рекомендуется использовать оператор вопросительного знака таким образом.</strong></p>
			<p>Несмотря на то, что такая запись короче, чем эквивалентное выражение <code>if</code>, она менее читабельна.</p>
			<p>Вот, для сравнения, тот же код, использующий <code>if</code>:</p>
			<div class="code-example">
				<div class="codebox">
					<div class="line-numbers language-javascript">
						<code class="language-javascript">
							<code class="token keyword">let</code> company <code class="token operator">=</code> <code class="token function">prompt</code><code class="token punctuation">(</code><code class="token string">'Какая компания создала JavaScript?'</code><code class="token punctuation">,</code> <code class="token string">''</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br><br>
							<code class="token keyword">if</code> <code class="token punctuation">(</code>company <code class="token operator">==</code> <code class="token string">'Netscape'</code><code class="token punctuation">)</code> <code class="token punctuation">{</code><br>
							<code class="token function">alert</code><code class="token punctuation">(</code><code class="token string">'Верно!'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code> <code class="token keyword">else</code> <code class="token punctuation">{</code><br>
							<code class="token function">alert</code><code class="token punctuation">(</code><code class="token string">'Неправильно.'</code><code class="token punctuation">)</code><code class="token punctuation">;</code><br>
							<code class="token punctuation">}</code>
						</code>
						<span class="line-numbers-rows">
							<script src="../js/line-numbers-rows.js"></script>
							<script>rowsNumbers(7);</script>
						</span>
					</div>
				</div>
			</div>
			<p>При чтении глаза сканируют код по вертикали. Блоки кода, занимающие несколько строк, воспринимаются гораздо легче, чем длинный горизонтальный набор инструкций.</p>
			<p>Смысл оператора вопросительный знак <code>?</code> – вернуть то или иное значение, в зависимости от условия. Нужно использовать его именно для этого. Когда нужно выполнить разные ветви кода –  нужно использовать <code>if</code>.</p>
		</div>
	</div>
</body>

</html>